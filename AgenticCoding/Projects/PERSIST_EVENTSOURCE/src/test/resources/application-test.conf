include "application.conf"

pekko {
  loglevel = "DEBUG"
  
  persistence {
    r2dbc {
      connection-factory {
        # Use in-memory database for tests
        driver = "h2"
        protocol = "mem"
        database = "test"
        user = "sa"
        password = ""
      }
      
      # Disable cleanup for tests
      cleanup {
        enabled = false
      }
    }
    
    # Use in-memory journal for faster tests
    journal {
      plugin = "pekko.persistence.journal.inmem"
    }
    
    snapshot-store {
      plugin = "pekko.persistence.snapshot-store.local"
    }
  }
  
  actor {
    testkit {
      # Timeout for test probes
      single-expect-default = 10s
      default-timeout = 10s
    }
  }
}